{% extends "layout.html" %}

{% block title %}
Progress
{% endblock %}

{% block main %}
{% if message %}
<h1 class="text-4xl font-bold text-center text-yellow-2">{{ message }}</h1>
<script type="text/javascript">
    (function (d, t) {
        var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function () {
            window.voiceflow.chat.load({
                verify: { projectID: '662f78c1ab98d49c7a2c9929' },
                url: 'https://general-runtime.voiceflow.com',
                versionID: 'production'
            });
        }
        v.src = "https://cdn.voiceflow.com/widget/bundle.mjs"; v.type = "text/javascript"; s.parentNode.insertBefore(v, s);
    })(document, 'script');
</script>
{% else %}
<div class="flex flex-col items-center w-full h-full space-y-5">
    <h1 name="exercise-title" id="exercise-title"
        class="text-3xl font-bold text-center capitalize md:text-4xl text-yellow-2"></h1>
    <div class="w-full md:w-1/2">
        <canvas id="myChart"></canvas>
    </div>
    <details name="select-exercises" id="select-exercises" class="relative flex flex-col items-center">
        <summary class="flex items-center w-48 p-2 duration-300 rounded cursor-pointer bg-yellow-1 hover:bg-yellow-2">
            <p class="w-full text-center">Select Exercises</p>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="absolute z-10 w-4 h-4 right-2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
            </svg>
        </summary>
        <ul name="options" id="options"
            class="{% if exercises|length == 1 %} h-14 {% else %} h-24 {% endif %} absolute p-2 overflow-scroll overflow-x-hidden font-light text-center text-black -translate-x-1/2 translate-y-1 bg-white rounded-md whitespace-nowrap left-1/2">
            {% for exercise in exercises %}
            <li name="exercise" id="{{ exercise }}"
                class="p-2 capitalize duration-300 rounded-md cursor-pointer hover:bg-default-2 hover:text-white">{{
                exercise }}</li>
            {% endfor %}
        </ul>
    </details>
</div>
<script type="text/javascript">
    (function (d, t) {
        var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function () {
            window.voiceflow.chat.load({
                verify: { projectID: '662f78c1ab98d49c7a2c9929' },
                url: 'https://general-runtime.voiceflow.com',
                versionID: 'production'
            });
        }
        v.src = "https://cdn.voiceflow.com/widget/bundle.mjs"; v.type = "text/javascript"; s.parentNode.insertBefore(v, s);
    })(document, 'script');
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/static/js/index.js"></script>
{% endif %}
{% endblock %}